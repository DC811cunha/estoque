<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="utf-8">
  <title><%= titulo %></title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link
    href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
    crossorigin="anonymous">
</head>

<body class="text-center">

  <div class="container mt-4">

    <!-- Flash messages -->
    <% if (error_msg && error_msg.length) { %>
      <% error_msg.forEach(msg => { %>
        <div class="alert alert-danger text-left"><%= msg %></div>
      <% }) %>
    <% } %>
    <% if (success_msg && success_msg.length) { %>
      <% success_msg.forEach(msg => { %>
        <div class="alert alert-success text-left"><%= msg %></div>
      <% }) %>
    <% } %>

    <h1 class="card text-white bg-primary">
      <div class="card-body">
        <p class="card-text"><%= titulo %></p>
        <h4 class="card-text">Preencha o formulário abaixo e clique em Confirmar para realizar o cadastro</h4>
      </div>
    </h1>

    <a class="btn btn-secondary mt-3 mb-3" href="/clientes">Voltar</a>

    <form action="<%= acao %>" method="post">
      <!-- Código (readonly) -->
      <div class="form-group">
        <label for="edtCodigo">Código</label>
        <input
          type="text"
          id="edtCodigo"
          name="edtCodigo"
          class="form-control text-center"
          value="<%= registro.id_cliente || '' %>"
          readonly>
      </div>

      <!-- Nome -->
      <% const errNome = (errors || []).find(e => e.param === 'edtNome') %>
      <div class="form-group">
        <label for="edtNome">Nome</label>
        <input
          type="text"
          id="edtNome"
          name="edtNome"
          class="form-control text-center <%= errNome ? 'is-invalid' : '' %>"
          placeholder="Inserir nome"
          value="<%= registro.nome_cliente || '' %>">
        <% if (errNome) { %>
          <div class="invalid-feedback text-left"><%= errNome.msg %></div>
        <% } %>
      </div>

      <!-- E-mail -->
      <% const errEmail = (errors || []).find(e => e.param === 'edtEmail') %>
      <div class="form-group">
        <label for="edtEmail">E-mail</label>
        <input
          type="email"
          id="edtEmail"
          name="edtEmail"
          class="form-control text-center <%= errEmail ? 'is-invalid' : '' %>"
          placeholder="Inserir e-mail"
          value="<%= registro.email_cliente || '' %>">
        <% if (errEmail) { %>
          <div class="invalid-feedback text-left"><%= errEmail.msg %></div>
        <% } %>
      </div>

      <!-- Telefone -->
      <% const errTel = (errors || []).find(e => e.param === 'edtTelefone') %>
      <div class="form-group">
        <label for="edtTelefone">Telefone</label>
        <input
          type="tel"
          id="edtTelefone"
          name="edtTelefone"
          class="form-control text-center <%= errTel ? 'is-invalid' : '' %>"
          placeholder="Inserir telefone"
          value="<%= registro.telefone_cliente || '' %>">
        <% if (errTel) { %>
          <div class="invalid-feedback text-left"><%= errTel.msg %></div>
        <% } %>
      </div>

      <button type="submit" class="btn btn-primary">Confirmar</button>
      <button type="reset" class="btn btn-warning">Limpar</button>
    </form>
  </div>

  <script
    src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script
    src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</body>

</html>
